{
    "layer": "bottom",
    "position": "top",
    "mode": "dock",
    "margin-top": 0,
    "height": 30,
    
    "modules-left": ["group/logo-updates", "custom/filemanager", "custom/zen", "wlr/taskbar"],
    
    "modules-center": ["hyprland/workspaces"],
    
    "modules-right": ["group/essentials"],
    
    "output": ["DP-2", "HDMI-A-1"],
    
    "group/essentials": {
        "orientation": "horizontal",
        "modules": ["custom/timer", "pulseaudio", "custom/nightlight", "bluetooth", "custom/power", "network", "clock"]
    },

    "group/logo-updates":  {
        "orientation": "horizontal",
        "modules": ["custom/logo", "custom/updates"]
    },
    
    "clock": {
        "format-alt": "{:%a, %d. %b  %H:%M}",
        "tooltip": false
    },
    
    "pulseaudio": {
    "format": "{volume}% {icon}",
    "format-bluetooth": "{volume}% {icon}",
    "format-muted": "",
    "format-icons": {
        "alsa_output.pci-0000_00_1f.3.analog-stereo": "",
        "alsa_output.pci-0000_00_1f.3.analog-stereo-muted": "",
        "headphone": "󰋎",
        "hands-free": "",
        "headset": "",
        "phone": "",
        "phone-muted": "",
        "portable": "",
        "car": "",
        "default": ["", ""]
    },
    "scroll-step": 1,
    "on-click": "pavucontrol",
    "ignored-sinks": ["Easy Effects Sink"]
    },
    
    "network": {
    "interface": "enp14s0",
    "format": "{ifname}",
    "format-wifi": "{essid} ({signalStrength}%) ",
    "format-ethernet": "󰈁",
    "format-disconnected": "󰈂", //An empty format will hide the module.
    "tooltip-format": "{ifname} via {gwaddr} 󰊗",
    "tooltip-format-wifi": "{essid} ({signalStrength}%) ",
    "tooltip-format-ethernet": "{ifname} ",
    "tooltip-format-disconnected": "Disconnected",
    "max-length": 50
    },
    
    "hyprland/workspaces": {
        "format": "{icon}",
        "format-icons": {
        "active": "",
        "default": "",
        "empty": ""
        },
        "active-only": false,
        "all-outputs": false 
    },
    
    "custom/power": {
        "format": " ",
        "on-click": "waybar-menu", // Dieser Name ist wichtig für die CSS-Klasse
        "menu": "on-click",
        "menu-file": "$HOME/.config/waybar/power_menu.xml", // Pfad zur Menü-Datei
        "menu-actions": {
        "shutdown": "systemctl poweroff",
        "reboot": "systemctl reboot",
        "logout": "loginctl terminate-user $USER",
        "tooltip": false
    }
    },
   
    "bluetooth": {
	      "format": "󰂯 ",
	      "format-connected": " {device_alias}",
       	"format-disabled": "󰂲 ",
       	"format-connected-battery": "󰂯 {device_alias} {device_battery_percentage}%",
	      // "format-device-preference": [ "device1", "device2" ], // preference list deciding the displayed device
	      "tooltip-format": "{controller_alias}\t{controller_address}\n\n{num_connections} connected",
	      "tooltip-format-connected": "{controller_alias}\t{controller_address}\n\n{num_connections}         connected\n\n{device_enumerate}",
	      "tooltip-format-enumerate-connected": "{device_alias}\t{device_address}",
	      "format-connected-battery": "󰂯 {device_alias} {device_battery_percentage}%",
	      "on-click": "rfkill toggle bluetooth", // Schaltet Bluetooth an/aus
        "on-click-right": "blueman-manager" // Öffnet das Menü bei Rechtsklick
},

"custom/nightlight": {
    "format": "󰛨",
    "format-activated": "󱩌",
    "return-type": "json",
    "exec": "pgrep wlsunset > /dev/null && echo '{\"class\": \"activated\"}' || echo '{\"class\": \"\"}'",
    "interval": 2,
    "on-click": "pgrep wlsunset > /dev/null && killall wlsunset || wlsunset -t 3500 -T 6500 &",
    "tooltip": false
},

"custom/updates": {
    "format": "{}",
    "escape": true,
    "return-type": "json",       
    "exec": "~/.config/waybar/scripts/show-updates-quantity.sh",    
    "interval": 900,            
    "signal": 1,
    "on-click": "kitty sh -c '~/.local/bin/sysupdate.sh'",
    "on-click-right": "~/.config/waybar/scripts/fetch-updates-quantity.sh",
    "tooltip": false
},

"hyprland/window": {
    "format": "| {title}",
    "separate-outputs": true
}, 

"custom/logo": {
    "format": " ",  // Leer lassen, weil das Logo via CSS kommt
    "on-click": "kitty sh -c '~/.local/bin/sysupdate.sh'",
    "on-click-right": "~/.config/waybar/scripts/fetch_updates.sh && pkill -RTMIN+8 waybar",
    "tooltip": false
},

"custom/timer": {
  "exec": "~/.config/waybar/scripts/waytimer.sh",
  "interval": 1,
  "return-type": "json",
  "format": "{text}",

  "on-click": "echo $(( $(date +%s) + $(cat /tmp/waybar_timer_edit) * 60 )) > /tmp/waybar_timer",
  "on-click-right": "rm -f /tmp/waybar_timer",

  "on-scroll-up": "[ ! -f /tmp/waybar_timer ] && echo $(( $(cat /tmp/waybar_timer_edit) + 1 )) > /tmp/waybar_timer_edit && date +%s > /tmp/waybar_timer_editing",
  "on-scroll-down": "[ ! -f /tmp/waybar_timer ] && echo $(( $(cat /tmp/waybar_timer_edit) - 1 )) > /tmp/waybar_timer_edit && date +%s > /tmp/waybar_timer_editing"
},

"wlr/taskbar": {
    "format": "{icon}",
    "icon-size": 28,
    "tooltip-format": "{title}",
    "on-click": "activate",
    "on-click-middle": "close",
    "ignore-list": [
      "Alacritty",
      "kitty"
    ],
    "app_ids-mapping": {
      "firefoxdeveloperedition": "firefox-developer-edition"
    },
    "rewrite": {
      "Firefox Web Browser": "Firefox",
      "Foot Server": "Terminal"
    }
  },
"custom/zen": {
    "format": "󱦞",
    "on-click": "zen-browser",
    "tooltip": false
},

"custom/rofi": {
    "format": "Apps",
    "on-click": "rofi -show drun",
    "tooltip": false
},

"custom/filemanager": {
    "format": "",
    "on-click": "nemo",
    "tooltip": false
}
},


